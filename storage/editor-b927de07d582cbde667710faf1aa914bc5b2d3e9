{"mode":"editor","version":1,"windowDimensions":{"x":0,"y":23,"width":1366,"height":741,"maximized":true},"grammars":{"deserializer":"GrammarRegistry","grammarOverridesByPath":{}},"project":{"paths":["/Users/ustrajunior/code/nextbit/superwifi_frontend_rails"],"buffers":[{"text":"class HomeController < ApplicationController\n\n  def index\n    uri = \"#{ENV['API_URL']}/v1/users/login\"\n    user_agent = request.env['HTTP_USER_AGENT']\n\n    args = {\n      \"loginUrl\" => params[:base_grant_url],\n      \"userAgent\" => user_agent,\n      \"apMac\" => params[:node_mac],\n      \"clientMac\" => params[:client_mac]\n    }\n\n    args.each do |key, value|\n      unless value\n        return access_redirect(reason: 'Sem parâmetros')\n      end\n    end\n\n    if user_agent =~ /CaptiveNetworkSupport/\n      return false\n    end\n\n    super_http = SuperHTTP.new('post', uri, 'json')\n    resp = super_http.send(15, args.to_json)\n    json_resp = JSON.load(resp.response_body) if resp.response_body.present?\n\n    @success = json_resp['success']\n    @continue_url = json_resp['continueUrl']\n    @login_url = args[\"loginUrl\"]\n    @user = User.new(json_resp['user'])\n    @client = Client.new(json_resp['client'])\n    @banner = Banner.new(title: json_resp['banner']['title'], slug: json_resp['banner']['imageUrl'], banner_link: json_resp['banner']['linkUrl']) if json_resp['banner'].present?\n\n    save_session(@login_url, @continue_url, @banner, @user.slug, request.env['HTTP_USER_AGENT'], params[:node_mac], params[:client_mac], @client)\n\n    unless @client && @client.slug\n      return access_redirect(reason: 'AP orfão')\n    end\n\n    if @success\n      redirect_to continue_path\n    else\n      redirect_to registration_path\n    end\n  end\n\n  def save_session(login_url, continue_url, banner, user_id, user_agent, ap_mac, client_mac, client)\n    clear_cookies\n\n    cookies[:user_id] ||= user_id\n    cookies[:login_url] ||= login_url\n    cookies[:continue_url] ||= continue_url\n    cookies[:banner] ||= banner.to_json\n    cookies[:user_agent] = user_agent\n    cookies[:ap_mac] ||= ap_mac\n    cookies[:client_mac] ||= client_mac\n    cookies[:client] ||= client.to_json\n  end\n\n  def clear_cookies\n    cookies.delete :user_id\n    cookies.delete :login_url\n    cookies.delete :continue_url\n    cookies.delete :banner\n    cookies.delete :user_agent\n    cookies.delete :ap_mac\n    cookies.delete :client_mac\n    cookies.delete :client\n  end\n\n  def terms\n  end\n\n  def faqs\n    @faqs = [\n      { question: 'A Internet é de graça?', answer: 'Sim, você pode usar a Internet e não precisa pagar nada por isso.'},\n      { question: 'Por quanto tempo eu posso usar a Internet?', answer: 'Quanto tempo você quiser! :)'}\n    ];\n  end\nend\n","markers":{"markers":{"1":{"id":1,"range":[[27,31],[27,31]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":1347,"goalScreenRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/controllers/home_controller.rb","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"d72ad372c9626fb57cd9404c6ddc50f6be5815e2","deserializer":"TextBuffer"},{"text":"class TimedOutError < StandardError; end;\nclass CodeZeroError < StandardError; end;\n\nclass SuperHTTP\n  def initialize(method, uri, format)\n    @method = method\n    @format = format\n    @uri    = uri\n  end\n\n\n  def send(timeout=15, args={})\n    case @method.downcase\n    when 'get' then get(timeout, args)\n    when 'post' then post(timeout, args)\n    end\n  end\n\n  def get(timeout, args={})\n    request = Typhoeus::Request.new(\n      @uri,\n      method: :get,\n      params: args,\n      headers: set_headers,\n      timeout: timeout,\n      followlocation: true\n    )\n\n    @resp = ''\n\n    request.on_complete do |response|\n      @resp = handle_response(response)\n    end\n\n    request.run\n  end\n\n  def post(timeout, args={})\n    request = Typhoeus::Request.new(\n      @uri,\n      method: :post,\n      body: args,\n      headers: set_headers\n    )\n\n    @resp = ''\n\n    request.on_complete do |response|\n      @resp = handle_response(response)\n    end\n\n    request.run\n  end\n\n  private\n\n  def handle_response(response)\n    case\n    when response.success? then success_response(response.response_body)\n    when response.timed_out? then timed_out\n    when response.code == 0 then code_zero\n    else\n      false\n    end\n  end\n\n  def success_response(body)\n    @format == 'json' ? JSON.parse(body) : body\n  end\n\n  def timed_out\n    raise TimedOutError.new, 'timed out'\n  end\n\n  def code_zero\n    raise CodeZeroError.new, 'code zero'\n  end\n\n  def set_headers\n    accept = @format == 'json' ? 'application/json' : 'text/html'\n    { Accept: accept }\n  end\nend\n","markers":{"markers":{"1":{"id":1,"range":[[80,20],[80,20]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":1351,"goalScreenRange":null,"autoscroll":true,"clip":"forward"},"deserializer":"Marker"},"86":{"id":86,"range":[[56,31],[56,31]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[{"patches":[{"oldRange":[[56,31],[56,31]],"newRange":[[56,31],[57,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"oldMarkersSnapshot":{"71":{"range":[[56,30],[56,31]],"valid":true},"73":{"range":[[56,31],[56,31]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,0],[57,0]],"newRange":[[57,0],[57,4]],"oldText":"","newText":"    ","normalizeLineEndings":true,"oldMarkersSnapshot":{"74":{"range":[[57,0],[57,0]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[56,31],[56,31]],"valid":true},"71":{"range":[[56,30],[56,31]],"valid":true},"72":{"range":[[56,21],[56,22]],"valid":true},"73":{"range":[[56,31],[56,31]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[57,4],[57,4]],"newRange":[[57,4],[57,5]],"oldText":"","newText":"p","normalizeLineEndings":true,"oldMarkersSnapshot":{"75":{"range":[[57,4],[57,4]],"valid":true},"76":{"range":[[57,0],[58,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,5],[57,5]],"newRange":[[57,5],[57,6]],"oldText":"","newText":"u","normalizeLineEndings":true,"oldMarkersSnapshot":{"76":{"range":[[57,0],[58,0]],"valid":true},"77":{"range":[[57,5],[57,5]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,6],[57,6]],"newRange":[[57,6],[57,7]],"oldText":"","newText":"t","normalizeLineEndings":true,"oldMarkersSnapshot":{"76":{"range":[[57,0],[58,0]],"valid":true},"78":{"range":[[57,6],[57,6]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,7],[57,7]],"newRange":[[57,7],[57,8]],"oldText":"","newText":"s","normalizeLineEndings":true,"oldMarkersSnapshot":{"76":{"range":[[57,0],[58,0]],"valid":true},"79":{"range":[[57,7],[57,7]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[57,4],[57,4]],"valid":true},"75":{"range":[[57,4],[57,4]],"valid":true},"76":{"range":[[57,0],[58,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[57,8],[57,8]],"newRange":[[57,8],[57,9]],"oldText":"","newText":" ","normalizeLineEndings":true,"oldMarkersSnapshot":{"80":{"range":[[57,8],[57,8]],"valid":true},"81":{"range":[[57,0],[58,0]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[57,8],[57,8]],"valid":true},"80":{"range":[[57,8],[57,8]],"valid":true},"81":{"range":[[57,0],[58,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[57,9],[57,9]],"newRange":[[57,9],[57,11]],"oldText":"","newText":"\"\"","normalizeLineEndings":true,"oldMarkersSnapshot":{"82":{"range":[[57,9],[57,9]],"valid":true},"83":{"range":[[57,0],[58,0]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"range":[[57,11],[57,11]]},"newParams":{"range":[[57,10],[57,10]]},"deserializer":"MarkerPatch"},{"oldRange":[[57,10],[57,10]],"newRange":[[57,10],[57,11]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"85":{"range":[[57,10],[57,10]],"valid":true},"86":{"range":[[57,9],[57,10]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,11],[57,11]],"newRange":[[57,11],[57,12]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,11]],"valid":true},"87":{"range":[[57,11],[57,11]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,12],[57,12]],"newRange":[[57,12],[57,13]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,12]],"valid":true},"88":{"range":[[57,12],[57,12]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,13],[57,13]],"newRange":[[57,13],[57,14]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,13]],"valid":true},"89":{"range":[[57,13],[57,13]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,14],[57,14]],"newRange":[[57,14],[57,15]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,14]],"valid":true},"90":{"range":[[57,14],[57,14]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,15],[57,15]],"newRange":[[57,15],[57,16]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,15]],"valid":true},"91":{"range":[[57,15],[57,15]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,16],[57,16]],"newRange":[[57,16],[57,17]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,16]],"valid":true},"92":{"range":[[57,16],[57,16]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,17],[57,17]],"newRange":[[57,17],[57,18]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,17]],"valid":true},"93":{"range":[[57,17],[57,17]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,18],[57,18]],"newRange":[[57,18],[57,19]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,18]],"valid":true},"94":{"range":[[57,18],[57,18]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,19],[57,19]],"newRange":[[57,19],[57,20]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,19]],"valid":true},"95":{"range":[[57,19],[57,19]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,20],[57,20]],"newRange":[[57,20],[57,21]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,20]],"valid":true},"96":{"range":[[57,20],[57,20]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,21],[57,21]],"newRange":[[57,21],[57,22]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,21]],"valid":true},"97":{"range":[[57,21],[57,21]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,22],[57,22]],"newRange":[[57,22],[57,23]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,22]],"valid":true},"98":{"range":[[57,22],[57,22]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,23],[57,23]],"newRange":[[57,23],[57,24]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,23]],"valid":true},"99":{"range":[[57,23],[57,23]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,24],[57,24]],"newRange":[[57,24],[57,25]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,24]],"valid":true},"100":{"range":[[57,24],[57,24]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,25],[57,25]],"newRange":[[57,25],[57,26]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,25]],"valid":true},"101":{"range":[[57,25],[57,25]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,26],[57,26]],"newRange":[[57,26],[57,27]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,26]],"valid":true},"102":{"range":[[57,26],[57,26]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,27],[57,27]],"newRange":[[57,27],[57,28]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,27]],"valid":true},"103":{"range":[[57,27],[57,27]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,28],[57,28]],"newRange":[[57,28],[57,29]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,28]],"valid":true},"104":{"range":[[57,28],[57,28]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,29],[57,29]],"newRange":[[57,29],[57,30]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,29]],"valid":true},"105":{"range":[[57,29],[57,29]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,30],[57,30]],"newRange":[[57,30],[57,31]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,30]],"valid":true},"106":{"range":[[57,30],[57,30]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,31],[57,31]],"newRange":[[57,31],[57,32]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,31]],"valid":true},"107":{"range":[[57,31],[57,31]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,32],[57,32]],"newRange":[[57,32],[57,33]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,32]],"valid":true},"108":{"range":[[57,32],[57,32]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,33],[57,33]],"newRange":[[57,33],[57,34]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,33]],"valid":true},"109":{"range":[[57,33],[57,33]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,34],[57,34]],"newRange":[[57,34],[57,35]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,34]],"valid":true},"110":{"range":[[57,34],[57,34]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,35],[57,35]],"newRange":[[57,35],[57,36]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,35]],"valid":true},"111":{"range":[[57,35],[57,35]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,36],[57,36]],"newRange":[[57,36],[57,37]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,36]],"valid":true},"112":{"range":[[57,36],[57,36]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,37],[57,37]],"newRange":[[57,37],[57,38]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,37]],"valid":true},"113":{"range":[[57,37],[57,37]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,38],[57,38]],"newRange":[[57,38],[57,39]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,38]],"valid":true},"114":{"range":[[57,38],[57,38]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,39],[57,39]],"newRange":[[57,39],[57,40]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,39]],"valid":true},"115":{"range":[[57,39],[57,39]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,40],[57,40]],"newRange":[[57,40],[57,41]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,40]],"valid":true},"116":{"range":[[57,40],[57,40]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,41],[57,41]],"newRange":[[57,41],[57,42]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,41]],"valid":true},"117":{"range":[[57,41],[57,41]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,42],[57,42]],"newRange":[[57,42],[57,43]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,42]],"valid":true},"118":{"range":[[57,42],[57,42]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,43],[57,43]],"newRange":[[57,43],[57,44]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,43]],"valid":true},"119":{"range":[[57,43],[57,43]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,44],[57,44]],"newRange":[[57,44],[57,45]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,44]],"valid":true},"120":{"range":[[57,44],[57,44]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,45],[57,45]],"newRange":[[57,45],[57,46]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,45]],"valid":true},"121":{"range":[[57,45],[57,45]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,46],[57,46]],"newRange":[[57,46],[57,47]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,46]],"valid":true},"122":{"range":[[57,46],[57,46]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,47],[57,47]],"newRange":[[57,47],[57,48]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,47]],"valid":true},"123":{"range":[[57,47],[57,47]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,48],[57,48]],"newRange":[[57,48],[57,49]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,48]],"valid":true},"124":{"range":[[57,48],[57,48]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,49],[57,49]],"newRange":[[57,49],[57,50]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,49]],"valid":true},"125":{"range":[[57,49],[57,49]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[57,50],[57,50]],"newRange":[[57,50],[57,51]],"oldText":"","newText":"=","normalizeLineEndings":true,"oldMarkersSnapshot":{"83":{"range":[[57,0],[58,0]],"valid":true},"86":{"range":[[57,9],[57,50]],"valid":true},"126":{"range":[[57,50],[57,50]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[57,9],[57,9]],"valid":true},"82":{"range":[[57,9],[57,9]],"valid":true},"83":{"range":[[57,0],[58,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[57,51],[57,51]],"reversed":true},"newParams":{"range":[[57,51],[58,0]],"reversed":false},"deserializer":"MarkerPatch"},{"oldRange":[[58,0],[58,0]],"newRange":[[58,0],[59,0]],"oldText":"","newText":"    puts \"=========================================\"\n","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[57,51],[58,0]],"valid":true},"128":{"range":[[57,0],[58,0]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"range":[[57,51],[59,0]]},"newParams":{"range":[[58,51],[58,51]]},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[58,51],[58,51]]},"newParams":{"range":[[58,51],[59,0]]},"deserializer":"MarkerPatch"},{"oldRange":[[59,0],[59,0]],"newRange":[[59,0],[60,0]],"oldText":"","newText":"    puts \"=========================================\"\n","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[58,51],[59,0]],"valid":true},"128":{"range":[[57,0],[59,0]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"range":[[58,51],[60,0]]},"newParams":{"range":[[59,51],[59,51]]},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[57,51],[57,51]],"valid":true},"86":{"range":[[57,9],[57,51]],"valid":true},"127":{"range":[[57,51],[57,51]],"valid":true},"128":{"range":[[57,0],[58,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"range":[[59,51],[59,51]]},"newParams":{"range":[[59,51],[60,0]]},"deserializer":"MarkerPatch"},{"oldRange":[[60,0],[60,0]],"newRange":[[60,0],[61,0]],"oldText":"","newText":"    puts \"=========================================\"\n","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[59,51],[60,0]],"valid":true},"131":{"range":[[57,0],[60,0]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"range":[[59,51],[61,0]]},"newParams":{"range":[[60,51],[60,51]]},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[59,51],[59,51]],"valid":true},"86":{"range":[[57,9],[57,51]],"valid":true},"130":{"range":[[59,51],[59,51]],"valid":true},"131":{"range":[[57,0],[60,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[58,52],[58,52]],"newRange":[[58,52],[59,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"oldMarkersSnapshot":{"134":{"range":[[57,0],[61,0]],"valid":true},"136":{"range":[[58,52],[58,52]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[59,0],[59,0]],"newRange":[[59,0],[59,4]],"oldText":"","newText":"    ","normalizeLineEndings":true,"oldMarkersSnapshot":{"134":{"range":[[57,0],[62,0]],"valid":true},"137":{"range":[[59,0],[59,0]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[58,52],[58,52]],"valid":true},"86":{"range":[[57,9],[57,51]],"valid":true},"134":{"range":[[57,0],[61,0]],"valid":true},"136":{"range":[[58,52],[58,52]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[59,4],[59,4]],"newRange":[[59,4],[59,5]],"oldText":"","newText":"r","normalizeLineEndings":true,"oldMarkersSnapshot":{"138":{"range":[[59,4],[59,4]],"valid":true},"139":{"range":[[57,0],[62,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[59,5],[59,5]],"newRange":[[59,5],[59,6]],"oldText":"","newText":"e","normalizeLineEndings":true,"oldMarkersSnapshot":{"139":{"range":[[57,0],[62,0]],"valid":true},"140":{"range":[[59,5],[59,5]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[59,6],[59,6]],"newRange":[[59,6],[59,7]],"oldText":"","newText":"s","normalizeLineEndings":true,"oldMarkersSnapshot":{"139":{"range":[[57,0],[62,0]],"valid":true},"141":{"range":[[59,6],[59,6]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[59,4],[59,4]],"valid":true},"86":{"range":[[57,9],[57,51]],"valid":true},"138":{"range":[[59,4],[59,4]],"valid":true},"139":{"range":[[57,0],[62,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[59,7],[59,7]],"reversed":false},"newParams":{"range":[[59,4],[59,7]],"reversed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[59,4],[59,7]],"tailed":true},"newParams":{"range":[[59,4],[59,4]],"tailed":false},"deserializer":"MarkerPatch"},{"oldRange":[[59,4],[59,7]],"newRange":[[59,4],[59,12]],"oldText":"res","newText":"response","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[59,4],[59,4]],"valid":true},"144":{"range":[[57,0],[62,0]],"valid":true},"146":{"range":[[59,4],[59,4]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"range":[[59,4],[59,4]],"properties":{"type":"selection","editorId":1351,"goalScreenRange":null,"autoscroll":true}},"newParams":{"range":[[59,12],[59,12]],"properties":{"type":"selection","editorId":1351,"goalScreenRange":null,"autoscroll":true,"clip":"forward"}},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[59,7],[59,7]],"valid":true},"86":{"range":[[57,9],[57,51]],"valid":true},"143":{"range":[[59,7],[59,7]],"valid":true},"144":{"range":[[57,0],[62,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[59,12],[59,12]],"newRange":[[59,12],[59,13]],"oldText":"","newText":".","normalizeLineEndings":true,"oldMarkersSnapshot":{"147":{"range":[[59,12],[59,12]],"valid":true},"148":{"range":[[57,0],[62,0]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[59,12],[59,12]],"valid":true},"86":{"range":[[57,9],[57,51]],"valid":true},"147":{"range":[[59,12],[59,12]],"valid":true},"148":{"range":[[57,0],[62,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[59,13],[59,13]],"newRange":[[59,13],[59,14]],"oldText":"","newText":"i","normalizeLineEndings":true,"oldMarkersSnapshot":{"149":{"range":[[59,13],[59,13]],"valid":true},"150":{"range":[[57,0],[62,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[59,14],[59,14]],"newRange":[[59,14],[59,15]],"oldText":"","newText":"n","normalizeLineEndings":true,"oldMarkersSnapshot":{"150":{"range":[[57,0],[62,0]],"valid":true},"151":{"range":[[59,14],[59,14]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[59,15],[59,15]],"newRange":[[59,15],[59,16]],"oldText":"","newText":"s","normalizeLineEndings":true,"oldMarkersSnapshot":{"150":{"range":[[57,0],[62,0]],"valid":true},"153":{"range":[[59,15],[59,15]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[59,16],[59,16]],"newRange":[[59,16],[59,17]],"oldText":"","newText":"p","normalizeLineEndings":true,"oldMarkersSnapshot":{"150":{"range":[[57,0],[62,0]],"valid":true},"154":{"range":[[59,16],[59,16]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[59,17],[59,17]],"newRange":[[59,17],[59,18]],"oldText":"","newText":"e","normalizeLineEndings":true,"oldMarkersSnapshot":{"150":{"range":[[57,0],[62,0]],"valid":true},"155":{"range":[[59,17],[59,17]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[59,18],[59,18]],"newRange":[[59,18],[59,19]],"oldText":"","newText":"c","normalizeLineEndings":true,"oldMarkersSnapshot":{"150":{"range":[[57,0],[62,0]],"valid":true},"156":{"range":[[59,18],[59,18]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[59,19],[59,19]],"newRange":[[59,19],[59,20]],"oldText":"","newText":"t","normalizeLineEndings":true,"oldMarkersSnapshot":{"150":{"range":[[57,0],[62,0]],"valid":true},"157":{"range":[[59,19],[59,19]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[59,13],[59,13]],"valid":true},"86":{"range":[[57,9],[57,51]],"valid":true},"149":{"range":[[59,13],[59,13]],"valid":true},"150":{"range":[[57,0],[62,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[59,4],[59,4]],"newRange":[[59,4],[59,5]],"oldText":"","newText":"p","normalizeLineEndings":true,"oldMarkersSnapshot":{"159":{"range":[[57,0],[62,0]],"valid":true},"163":{"range":[[59,4],[59,4]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[59,5],[59,5]],"newRange":[[59,5],[59,6]],"oldText":"","newText":"u","normalizeLineEndings":true,"oldMarkersSnapshot":{"159":{"range":[[57,0],[62,0]],"valid":true},"164":{"range":[[59,5],[59,5]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[59,6],[59,6]],"newRange":[[59,6],[59,7]],"oldText":"","newText":"t","normalizeLineEndings":true,"oldMarkersSnapshot":{"159":{"range":[[57,0],[62,0]],"valid":true},"165":{"range":[[59,6],[59,6]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[59,7],[59,7]],"newRange":[[59,7],[59,8]],"oldText":"","newText":"s","normalizeLineEndings":true,"oldMarkersSnapshot":{"159":{"range":[[57,0],[62,0]],"valid":true},"166":{"range":[[59,7],[59,7]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[59,8],[59,8]],"newRange":[[59,8],[59,9]],"oldText":"","newText":" ","normalizeLineEndings":true,"oldMarkersSnapshot":{"159":{"range":[[57,0],[62,0]],"valid":true},"167":{"range":[[59,8],[59,8]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[59,4],[59,4]],"valid":true},"86":{"range":[[57,9],[57,51]],"valid":true},"159":{"range":[[57,0],[62,0]],"valid":true},"163":{"range":[[59,4],[59,4]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"range":[[72,29],[72,33]],"tailed":true},"newParams":{"range":[[72,29],[72,29]],"tailed":false},"deserializer":"MarkerPatch"},{"oldRange":[[72,29],[72,33]],"newRange":[[72,29],[72,30]],"oldText":"load","newText":"p","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[72,29],[72,29]],"valid":true},"213":{"range":[[72,29],[72,29]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"range":[[72,29],[72,29]]},"newParams":{"range":[[72,30],[72,30]]},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[72,29],[72,33]],"valid":true},"86":{"range":[[57,9],[57,51]],"valid":true},"182":{"range":[[6,4],[6,11]],"valid":true},"183":{"range":[[72,4],[72,11]],"valid":true},"184":{"range":[[84,13],[84,20]],"valid":true},"212":{"range":[[72,29],[72,33]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[72,30],[72,30]],"newRange":[[72,30],[72,31]],"oldText":"","newText":"a","normalizeLineEndings":true,"oldMarkersSnapshot":{"214":{"range":[[72,30],[72,31]],"valid":true},"216":{"range":[[72,30],[72,30]],"valid":true},"217":{"range":[[72,0],[73,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[72,31],[72,31]],"newRange":[[72,31],[72,32]],"oldText":"","newText":"r","normalizeLineEndings":true,"oldMarkersSnapshot":{"217":{"range":[[72,0],[73,0]],"valid":true},"220":{"range":[[72,31],[72,32]],"valid":true},"222":{"range":[[72,31],[72,31]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[72,32],[72,32]],"newRange":[[72,32],[72,33]],"oldText":"","newText":"s","normalizeLineEndings":true,"oldMarkersSnapshot":{"217":{"range":[[72,0],[73,0]],"valid":true},"225":{"range":[[72,32],[72,33]],"valid":true},"227":{"range":[[72,32],[72,32]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[72,33],[72,33]],"newRange":[[72,33],[72,34]],"oldText":"","newText":"e","normalizeLineEndings":true,"oldMarkersSnapshot":{"217":{"range":[[72,0],[73,0]],"valid":true},"231":{"range":[[72,33],[72,34]],"valid":true},"233":{"range":[[72,33],[72,33]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[72,30],[72,30]],"valid":true},"86":{"range":[[57,9],[57,51]],"valid":true},"182":{"range":[[6,4],[6,11]],"valid":true},"183":{"range":[[72,4],[72,11]],"valid":true},"184":{"range":[[84,13],[84,20]],"valid":true},"214":{"range":[[72,30],[72,31]],"valid":true},"215":{"range":[[72,35],[72,36]],"valid":true},"216":{"range":[[72,30],[72,30]],"valid":true},"217":{"range":[[72,0],[73,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[85,20],[85,49]],"newRange":[[85,20],[85,20]],"oldText":", \"Accept-Encoding\" => \"gzip\"","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[85,20],[85,49]],"valid":true},"247":{"range":[[85,20],[85,49]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[85,20],[85,49]],"valid":true},"86":{"range":[[57,9],[57,51]],"valid":true},"182":{"range":[[6,4],[6,11]],"valid":true},"183":{"range":[[72,4],[72,11]],"valid":true},"184":{"range":[[84,13],[84,20]],"valid":true},"247":{"range":[[85,20],[85,49]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[56,31],[61,52]],"newRange":[[56,31],[56,31]],"oldText":"\n    puts \"=========================================\"\n    puts \"=========================================\"\n    puts response.inspect\n    puts \"=========================================\"\n    puts \"=========================================\"","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[56,31],[61,52]],"valid":true},"86":{"range":[[57,9],[57,51]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[56,31],[61,52]],"valid":true},"86":{"range":[[57,9],[57,51]],"valid":true},"182":{"range":[[6,4],[6,11]],"valid":true},"183":{"range":[[72,4],[72,11]],"valid":true},"184":{"range":[[84,13],[84,20]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[57,0],[57,0]],"newRange":[[57,0],[62,0]],"oldText":"","newText":"    puts \"=========================================\"\n    puts \"=========================================\"\n    puts response.inspect\n    puts \"=========================================\"\n    puts \"=========================================\"\n","normalizeLineEndings":false,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[56,31],[56,31]],"valid":true},"86":{"range":[[56,31],[56,31]],"valid":false},"253":{"range":[[56,30],[56,31]],"valid":true},"254":{"range":[[56,21],[56,22]],"valid":true},"256":{"range":[[56,0],[56,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[56,31],[61,52]],"newRange":[[56,31],[56,31]],"oldText":"\n    puts \"=========================================\"\n    puts \"=========================================\"\n    puts response.inspect\n    puts \"=========================================\"\n    puts \"=========================================\"","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[56,31],[61,52]],"valid":true},"86":{"range":[[56,31],[56,31]],"valid":false}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[56,31],[61,52]],"valid":true},"86":{"range":[[56,31],[56,31]],"valid":false},"264":{"range":[[6,4],[6,11]],"valid":true},"265":{"range":[[72,4],[72,11]],"valid":true},"266":{"range":[[84,13],[84,20]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[57,0],[57,0]],"newRange":[[57,0],[62,0]],"oldText":"","newText":"    puts \"=========================================\"\n    puts \"=========================================\"\n    puts response.inspect\n    puts \"=========================================\"\n    puts \"=========================================\"\n","normalizeLineEndings":false,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[56,31],[56,31]],"valid":true},"86":{"range":[[56,31],[56,31]],"valid":true},"264":{"range":[[6,4],[6,11]],"valid":true},"265":{"range":[[67,4],[67,11]],"valid":true},"266":{"range":[[79,13],[79,20]],"valid":true},"268":{"range":[[56,30],[56,31]],"valid":true},"269":{"range":[[56,21],[56,22]],"valid":true},"270":{"range":[[56,31],[56,31]],"valid":true},"271":{"range":[[56,0],[56,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[57,0],[62,0]],"newRange":[[57,0],[57,0]],"oldText":"    puts \"=========================================\"\n    puts \"=========================================\"\n    puts response.inspect\n    puts \"=========================================\"\n    puts \"=========================================\"\n","newText":"","normalizeLineEndings":false,"oldMarkersSnapshot":{"279":{"range":[[57,0],[62,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[67,0],[67,0]],"newRange":[[67,0],[68,0]],"oldText":"","newText":"    @format == 'json' ? JSON.load(body) : body\n","normalizeLineEndings":false,"oldMarkersSnapshot":{"280":{"range":[[67,0],[68,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[68,0],[69,0]],"newRange":[[68,0],[68,0]],"oldText":"    @format == 'json' ? JSON.parse(body) : body\n","newText":"","normalizeLineEndings":false,"oldMarkersSnapshot":{"280":{"range":[[67,0],[69,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[80,0],[80,0]],"newRange":[[80,0],[81,0]],"oldText":"","newText":"    { Accept: accept, \"Accept-Encoding\" => \"gzip\" }\n","normalizeLineEndings":false,"oldMarkersSnapshot":{"281":{"range":[[80,0],[81,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[81,0],[82,0]],"newRange":[[81,0],[81,0]],"oldText":"    { Accept: accept }\n","newText":"","normalizeLineEndings":false,"oldMarkersSnapshot":{"281":{"range":[[80,0],[82,0]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[68,7],[68,7]],"valid":true},"86":{"range":[[56,31],[56,31]],"valid":true},"279":{"range":[[57,0],[62,0]],"valid":true},"280":{"range":[[72,0],[73,0]],"valid":true},"281":{"range":[[85,0],[86,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"range":[[67,29],[67,33]],"tailed":true},"newParams":{"range":[[67,33],[67,33]],"tailed":false},"deserializer":"MarkerPatch"},{"oldRange":[[67,29],[67,33]],"newRange":[[67,29],[67,30]],"oldText":"load","newText":"p","normalizeLineEndings":true,"oldMarkersSnapshot":{"288":{"range":[[67,33],[67,33]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[67,30],[67,30]],"newRange":[[67,30],[67,31]],"oldText":"","newText":"a","normalizeLineEndings":true,"oldMarkersSnapshot":{"291":{"range":[[67,30],[67,31]],"valid":true},"293":{"range":[[67,30],[67,30]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[67,31],[67,31]],"newRange":[[67,31],[67,32]],"oldText":"","newText":"r","normalizeLineEndings":true,"oldMarkersSnapshot":{"296":{"range":[[67,31],[67,32]],"valid":true},"298":{"range":[[67,31],[67,31]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[67,32],[67,32]],"newRange":[[67,32],[67,33]],"oldText":"","newText":"s","normalizeLineEndings":true,"oldMarkersSnapshot":{"301":{"range":[[67,32],[67,33]],"valid":true},"303":{"range":[[67,32],[67,32]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[67,33],[67,33]],"newRange":[[67,33],[67,34]],"oldText":"","newText":"e","normalizeLineEndings":true,"oldMarkersSnapshot":{"307":{"range":[[67,33],[67,34]],"valid":true},"309":{"range":[[67,33],[67,33]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[67,29],[67,33]],"valid":true},"86":{"range":[[56,31],[56,31]],"valid":true},"283":{"range":[[6,4],[6,11]],"valid":true},"284":{"range":[[67,4],[67,11]],"valid":true},"285":{"range":[[79,13],[79,20]],"valid":true},"287":{"range":[[67,29],[67,33]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[80,20],[80,49]],"newRange":[[80,20],[80,20]],"oldText":", \"Accept-Encoding\" => \"gzip\"","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[80,20],[80,49]],"valid":true},"343":{"range":[[80,20],[80,49]],"valid":true}},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"oldMarkersSnapshot":{"1":{"range":[[80,20],[80,49]],"valid":true},"86":{"range":[[56,31],[56,31]],"valid":true},"283":{"range":[[6,4],[6,11]],"valid":true},"284":{"range":[[67,4],[67,11]],"valid":true},"285":{"range":[[79,13],[79,20]],"valid":true},"315":{"range":[[67,0],[68,0]],"valid":true},"343":{"range":[[80,20],[80,49]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[67,0],[67,0]],"newRange":[[67,0],[68,0]],"oldText":"","newText":"    @format == 'json' ? JSON.load(body) : body\n","normalizeLineEndings":false,"deserializer":"BufferPatch"},{"oldRange":[[68,0],[69,0]],"newRange":[[68,0],[68,0]],"oldText":"    @format == 'json' ? JSON.parse(body) : body\n","newText":"","normalizeLineEndings":false,"deserializer":"BufferPatch"},{"oldRange":[[80,0],[80,0]],"newRange":[[80,0],[81,0]],"oldText":"","newText":"    { Accept: accept, \"Accept-Encoding\" => \"gzip\" }\n","normalizeLineEndings":false,"deserializer":"BufferPatch"},{"oldRange":[[81,0],[82,0]],"newRange":[[81,0],[81,0]],"oldText":"    { Accept: accept }\n","newText":"","normalizeLineEndings":false,"oldMarkersSnapshot":{"1":{"range":[[81,20],[81,20]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[80,20],[80,20]],"valid":true},"86":{"range":[[56,31],[56,31]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[67,0],[67,0]],"newRange":[[67,0],[68,0]],"oldText":"","newText":"    @format == 'json' ? JSON.parse(body) : body\n","normalizeLineEndings":false,"deserializer":"BufferPatch"},{"oldRange":[[68,0],[69,0]],"newRange":[[68,0],[68,0]],"oldText":"    @format == 'json' ? JSON.load(body) : body\n","newText":"","normalizeLineEndings":false,"deserializer":"BufferPatch"},{"oldRange":[[80,0],[80,0]],"newRange":[[80,0],[81,0]],"oldText":"","newText":"    { Accept: accept }\n","normalizeLineEndings":false,"deserializer":"BufferPatch"},{"oldRange":[[81,0],[82,0]],"newRange":[[81,0],[81,0]],"oldText":"    { Accept: accept, \"Accept-Encoding\" => \"gzip\" }\n","newText":"","normalizeLineEndings":false,"oldMarkersSnapshot":{"1":{"range":[[81,20],[81,20]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[80,20],[80,20]],"valid":true},"86":{"range":[[56,31],[56,31]],"valid":true}},"deserializer":"Transaction"}],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/services/super_http.rb","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"7cd06f7d726e5bfa04092c51725bd8eed65614c8","deserializer":"TextBuffer"},{"text":"<%= summary_message(\"Bem vindo! Aproveite!\", @subtext) %>\n\n<div class=\"row\">\n  <div class=\"centered\">\n    <% if @banner.slug.present? %>\n      <% present @banner do |banner_presenter| %>\n        <%= banner_presenter.image_url %>\n      <% end %>\n    <% end %>\n  </div>\n</div>\n\n<div class=\"row\">\n  <div class=\"spaced-row\">\n    <div class='medium-6 medium-centered columns'>\n      <a href=\"<%= continue_click_url %>\" class='button small-12'>Acessar a Internet</a>\n    </div>\n  </div>\n</div>\n","markers":{"markers":{"1":{"id":1,"range":[[15,19],[15,37]],"tailed":true,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":1355,"goalScreenRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/views/login/continue.html.erb","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"3f7f658a4239740f298735573b80943efeb35297","deserializer":"TextBuffer"},{"text":"workers Integer(ENV['WEB_CONCURRENCY'] || 2)\nthreads_count = Integer(ENV['MAX_THREADS'] || 5)\nthreads threads_count, threads_count\n\npreload_app!\n\nrackup      DefaultRackup\nport        ENV['PORT']     || 3000\nenvironment ENV['RAILS_ENV'] || 'development'\n","markers":{"markers":{"1":{"id":1,"range":[[9,0],[9,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":1371,"goalScreenRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[{"patches":[{"oldRange":[[0,0],[0,2]],"newRange":[[0,0],[0,0]],"oldText":"# ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[0,0],[9,0]],"valid":true},"4":{"range":[[0,0],[9,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[1,0],[1,2]],"newRange":[[1,0],[1,0]],"oldText":"# ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[0,0],[9,0]],"valid":true},"4":{"range":[[0,0],[9,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[2,0],[2,2]],"newRange":[[2,0],[2,0]],"oldText":"# ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[0,0],[9,0]],"valid":true},"4":{"range":[[0,0],[9,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[3,0],[3,1]],"newRange":[[3,0],[3,0]],"oldText":"#","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[0,0],[9,0]],"valid":true},"4":{"range":[[0,0],[9,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[4,0],[4,2]],"newRange":[[4,0],[4,0]],"oldText":"# ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[0,0],[9,0]],"valid":true},"4":{"range":[[0,0],[9,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[5,0],[5,1]],"newRange":[[5,0],[5,0]],"oldText":"#","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[0,0],[9,0]],"valid":true},"4":{"range":[[0,0],[9,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[6,0],[6,2]],"newRange":[[6,0],[6,0]],"oldText":"# ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[0,0],[9,0]],"valid":true},"4":{"range":[[0,0],[9,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[7,0],[7,2]],"newRange":[[7,0],[7,0]],"oldText":"# ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[0,0],[9,0]],"valid":true},"4":{"range":[[0,0],[9,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[8,0],[8,2]],"newRange":[[8,0],[8,0]],"oldText":"# ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[0,0],[9,0]],"valid":true},"4":{"range":[[0,0],[9,0]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[0,0],[9,0]],"valid":true},"4":{"range":[[0,0],[9,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[0,0],[0,0]],"newRange":[[0,0],[9,0]],"oldText":"","newText":"# workers Integer(ENV['WEB_CONCURRENCY'] || 2)\n# threads_count = Integer(ENV['MAX_THREADS'] || 5)\n# threads threads_count, threads_count\n#\n# preload_app!\n#\n# rackup      DefaultRackup\n# port        ENV['PORT']     || 3000\n# environment ENV['RAILS_ENV'] || 'development'\n","normalizeLineEndings":false,"oldMarkersSnapshot":{"1":{"range":[[0,0],[9,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[9,0],[18,0]],"newRange":[[9,0],[9,0]],"oldText":"workers Integer(ENV['WEB_CONCURRENCY'] || 2)\nthreads_count = Integer(ENV['MAX_THREADS'] || 5)\nthreads threads_count, threads_count\n\npreload_app!\n\nrackup      DefaultRackup\nport        ENV['PORT']     || 3000\nenvironment ENV['RAILS_ENV'] || 'development'\n","newText":"","normalizeLineEndings":false,"oldMarkersSnapshot":{"1":{"range":[[0,0],[18,0]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[0,0],[9,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[0,0],[0,0]],"newRange":[[0,0],[9,0]],"oldText":"","newText":"workers Integer(ENV['WEB_CONCURRENCY'] || 2)\nthreads_count = Integer(ENV['MAX_THREADS'] || 5)\nthreads threads_count, threads_count\n\npreload_app!\n\nrackup      DefaultRackup\nport        ENV['PORT']     || 3000\nenvironment ENV['RAILS_ENV'] || 'development'\n","normalizeLineEndings":false,"oldMarkersSnapshot":{"7":{"range":[[0,0],[9,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[9,0],[18,0]],"newRange":[[9,0],[9,0]],"oldText":"# workers Integer(ENV['WEB_CONCURRENCY'] || 2)\n# threads_count = Integer(ENV['MAX_THREADS'] || 5)\n# threads threads_count, threads_count\n#\n# preload_app!\n#\n# rackup      DefaultRackup\n# port        ENV['PORT']     || 3000\n# environment ENV['RAILS_ENV'] || 'development'\n","newText":"","normalizeLineEndings":false,"oldMarkersSnapshot":{"7":{"range":[[0,0],[18,0]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[9,0],[9,0]],"valid":true},"7":{"range":[[0,0],[9,0]],"valid":true}},"deserializer":"Transaction"}],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/config/puma.rb","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"3f2c7f9d233903c1ae02fea2a7af6f0d8e58a1cd","deserializer":"TextBuffer"},{"text":"source 'https://rubygems.org'\n\ngem 'rails'                                   , '4.2.0'\ngem 'sass-rails'                              , '~> 5.0'\ngem 'uglifier'                                , '>= 1.3.0'\ngem 'typhoeus'                                , '~> 0.7.1'\ngem 'simple_form'                             , '~> 3.1.0'\n\n# Use jquery as the JavaScript library\ngem 'jquery-rails'                            , '~> 4.0.3'\ngem 'jbuilder'                                , '~> 2.0'\ngem 'sdoc'                                    , '~> 0.4.0', group: :doc\n\ngroup :development, :test do\n  gem 'figaro'                                , '~> 1.1.1'\n  gem 'byebug'\n  gem 'web-console'                           , '~> 2.0'\n  gem 'spring'\n  gem 'quiet_assets'                          , '~> 1.1.0'\nend\n\ngroup :development do\n  gem 'thin'                                  , '~> 1.6.3'\nend\n\ngroup :production do\n  gem 'puma'                                  , '~> 2.11.2'\n  gem 'rails_12factor'\nend\n","markers":{"markers":{"1":{"id":1,"range":[[25,0],[25,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":1375,"goalScreenRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[{"patches":[{"oldRange":[[22,0],[22,0]],"newRange":[[22,0],[23,0]],"oldText":"","newText":"  gem 'puma'                                  , '~> 2.11.2'\n","normalizeLineEndings":false,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[0,0],[0,0]],"valid":true},"2":{"range":[[0,0],[0,0]],"valid":true},"5":{"range":[[21,0],[21,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[21,0],[21,0]],"newRange":[[21,0],[25,0]],"oldText":"","newText":"group :development do\n  gem 'thin'                                  , '~> 1.6.3'\nend\n\n","normalizeLineEndings":false,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[25,0],[25,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[21,0],[25,0]],"newRange":[[21,0],[21,0]],"oldText":"group :development do\n  gem 'thin'                                  , '~> 1.6.3'\nend\n\n","newText":"","normalizeLineEndings":false,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[25,0],[25,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[21,0],[21,0]],"newRange":[[21,0],[25,0]],"oldText":"","newText":"group :development do\n  gem 'thin'                                  , '~> 1.6.3'\nend\n\n","normalizeLineEndings":false,"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[25,0],[25,0]],"valid":true}},"deserializer":"Transaction"}],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/Gemfile","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"7aea3236ae3d3e689e1420bbd4e443c94f7083b2","deserializer":"TextBuffer"},{"text":"class LoginController < ApplicationController\n\n  before_filter :access_allowed?, only: [:continue, :redirecting]\n\n  def continue\n    @banner = Banner.new(JSON.parse(cookies[:banner]))\n    @subtext = @banner.slug.present? ? \"Clique no banner ou no botão abaixo para ser liberado\" : \"Clique no botão abaixo para ser liberado\"\n  end\n\n  def redirecting\n    count_visit\n\n    case cookies[:click_on]\n    when 'continue'\n      redirect_to continue_url_or_default\n    when 'banner'\n      banner =  Banner.new(JSON.parse(cookies[:banner]))\n      if banner.banner_link.present?\n        redirect_to banner.banner_link\n      else\n        redirect_to continue_url_or_default\n      end\n    end\n  end\n\n  def continue_url_or_default\n    cookies[:continue_url] || \"http://superwifi.com.br\"\n  end\n\n  def banner_click\n    cookies[:click_on] = 'banner'\n    redirect_to cookies[:login_url]\n  end\n\n  def continue_click\n    cookies[:click_on] = 'continue'\n    redirect_to cookies[:login_url]\n  end\n\n  def count_visit\n    uri = \"#{ENV['API_URL']}/v1/users/visit\"\n\n    args = {\n      \"user\" => {\n      \t \"uuid\" => cookies[:user_id]\n      },\n      \"userAgent\" => cookies[:user_agent],\n      \"apMac\" => cookies[:ap_mac],\n      \"clientMac\" => cookies[:client_mac]\n    }\n\n    super_http = SuperHTTP.new('post', uri, 'json')\n    resp = super_http.send(15, args.to_json)\n    json_resp = JSON.load(resp.response_body) if resp.response_body.present?\n  end\nend\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":1379},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/controllers/login_controller.rb","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"f03ebe326c91367cb44216702575b023199215fb","deserializer":"TextBuffer"},{"text":"class ApplicationController < ActionController::Base\n  # Prevent CSRF attacks by raising an exception.\n  # For APIs, you may want to use :null_session instead.\n  protect_from_forgery with: :exception\n\n  def access_allowed?\n    return access_redirect(reason: \"Acesso negado\", count: false) unless user_signed_in?\n  end\n\n  def present(object, klass = nil)\n    klass ||= \"#{object.class}Presenter\".constantize\n    klass.new(object, view_context)\n  end\n\n  def to_bool(value)\n    return true if value == true || value =~ (/(true|t|yes|y|1)$/i)\n    return false if value == false || value.blank? || value =~ (/(false|f|no|n|0)$/i)\n    raise ArgumentError.new(\"invalid value for Boolean: \\\"#{value}\\\"\")\n  end\n\n  def current_user\n    User.new(slug: cookies[:user_id])\n  end\n  helper_method :current_user\n\n  def user_signed_in?\n    current_user.slug.present?\n  end\n  helper_method :user_signed_in?\n\n  def access_redirect(options={})\n    options.reverse_merge! count: true\n\n    if options[:count]\n      unless cookies[:redirect_tries]\n        cookies[:redirect_tries] = 0\n      end\n\n      if cookies[:redirect_tries].to_i < 2\n        cookies[:redirect_tries] = cookies[:redirect_tries].to_i + 1\n        return redirect_to \"http://acesse.superwifi.net.br\"\n      else\n        cookies.delete :redirect_tries\n        @summary_message = \"Parece que houve algum erro nesse hotspot! Nós já fomos notificados.\"\n        # uri = \"#{ENV['API_URL']}/v1/notify\"\n        #\n        # args = {\n        #   \"userAgent\" => cookies[:user_agent],\n        #   \"apMac\" => cookies[:ap_mac],\n        #   \"clientMac\" => cookies[:client_mac],\n        #   \"fullUrl\" => request.env['REQUEST_URI'],\n        #   \"exception\" => options[:reason]\n        # }\n\n        # super_http = SuperHTTP.new('post', uri, 'json')\n        # super_http.send(15, args.to_json)\n      end\n    else\n      redirect_to \"http://acesse.superwifi.net.br\"\n    end\n  end\nend\n","markers":{"markers":{"1":{"id":1,"range":[[34,37],[34,37]],"tailed":false,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":1383,"goalScreenRange":null},"deserializer":"Marker"},"23":{"id":23,"range":[[34,36],[34,37]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"24":{"id":24,"range":[[34,20],[34,21]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"25":{"id":25,"range":[[34,37],[34,37]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[{"patches":[{"oldRange":[[54,8],[54,8]],"newRange":[[54,8],[54,10]],"oldText":"","newText":"# ","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[54,0],[56,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[55,8],[55,8]],"newRange":[[55,8],[55,10]],"oldText":"","newText":"# ","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[54,0],[56,0]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[54,0],[56,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[44,8],[44,8]],"newRange":[[44,8],[44,10]],"oldText":"","newText":"# ","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[44,0],[53,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[45,0],[45,0]],"newRange":[[45,0],[45,10]],"oldText":"","newText":"        # ","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[44,0],[53,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[46,8],[46,8]],"newRange":[[46,8],[46,10]],"oldText":"","newText":"# ","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[44,0],[53,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[47,8],[47,8]],"newRange":[[47,8],[47,10]],"oldText":"","newText":"# ","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[44,0],[53,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[48,8],[48,8]],"newRange":[[48,8],[48,10]],"oldText":"","newText":"# ","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[44,0],[53,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[49,8],[49,8]],"newRange":[[49,8],[49,10]],"oldText":"","newText":"# ","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[44,0],[53,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[50,8],[50,8]],"newRange":[[50,8],[50,10]],"oldText":"","newText":"# ","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[44,0],[53,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[51,8],[51,8]],"newRange":[[51,8],[51,10]],"oldText":"","newText":"# ","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[44,0],[53,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[52,8],[52,8]],"newRange":[[52,8],[52,10]],"oldText":"","newText":"# ","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[44,0],[53,0]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[44,0],[53,0]],"valid":true},"13":{"range":[[54,0],[56,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[45,9],[45,10]],"newRange":[[45,9],[45,9]],"oldText":" ","newText":"","normalizeLineEndings":true,"oldMarkersSnapshot":{"1":{"range":[[44,0],[53,0]],"valid":true},"16":{"range":[[44,0],[56,0]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[44,0],[53,0]],"valid":true},"16":{"range":[[44,0],[56,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[44,0],[44,0]],"newRange":[[44,0],[45,0]],"oldText":"","newText":"        # TODO: send notification email\n","normalizeLineEndings":false,"oldMarkersSnapshot":{"1":{"range":[[44,0],[53,0]],"valid":true},"17":{"range":[[44,0],[56,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[45,0],[57,0]],"newRange":[[45,0],[45,0]],"oldText":"        # uri = \"#{ENV['API_URL']}/v1/notify\"\n        #\n        # args = {\n        #   \"userAgent\" => cookies[:user_agent],\n        #   \"apMac\" => cookies[:ap_mac],\n        #   \"clientMac\" => cookies[:client_mac],\n        #   \"fullUrl\" => request.env['REQUEST_URI'],\n        #   \"exception\" => options[:reason]\n        # }\n\n        # super_http = SuperHTTP.new('post', uri, 'json')\n        # super_http.send(15, args.to_json)\n","newText":"","normalizeLineEndings":false,"oldMarkersSnapshot":{"1":{"range":[[44,0],[54,0]],"valid":true},"17":{"range":[[44,0],[57,0]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[44,0],[53,0]],"valid":true},"17":{"range":[[44,0],[56,0]],"valid":true}},"deserializer":"Transaction"},{"patches":[{"oldRange":[[44,0],[44,0]],"newRange":[[44,0],[56,0]],"oldText":"","newText":"        # uri = \"#{ENV['API_URL']}/v1/notify\"\n        #\n        # args = {\n        #   \"userAgent\" => cookies[:user_agent],\n        #   \"apMac\" => cookies[:ap_mac],\n        #   \"clientMac\" => cookies[:client_mac],\n        #   \"fullUrl\" => request.env['REQUEST_URI'],\n        #   \"exception\" => options[:reason]\n        # }\n\n        # super_http = SuperHTTP.new('post', uri, 'json')\n        # super_http.send(15, args.to_json)\n","normalizeLineEndings":false,"oldMarkersSnapshot":{"20":{"range":[[44,0],[44,0]],"valid":true}},"deserializer":"BufferPatch"},{"oldRange":[[56,0],[57,0]],"newRange":[[56,0],[56,0]],"oldText":"        # TODO: send notification email\n","newText":"","normalizeLineEndings":false,"oldMarkersSnapshot":{"1":{"range":[[56,0],[56,0]],"valid":true},"21":{"range":[[56,0],[56,0]],"valid":true}},"deserializer":"BufferPatch"}],"oldMarkersSnapshot":{"1":{"range":[[44,0],[44,0]],"valid":true},"20":{"range":[[44,0],[44,0]],"valid":true}},"deserializer":"Transaction"}],"redoStack":[],"deserializer":"History","version":1},"encoding":"utf8","filePath":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/controllers/application_controller.rb","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"1956578f7048f1d61eb0de8dd741579dd62e8030","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"id":3,"items":[{"id":1347,"softTabs":true,"displayBuffer":{"id":1348,"softWrapped":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/controllers/home_controller.rb","invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"TokenizedBuffer"},"invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":1383,"softTabs":true,"displayBuffer":{"id":1384,"softWrapped":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/controllers/application_controller.rb","invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"TokenizedBuffer"},"invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":1351,"softTabs":true,"displayBuffer":{"id":1352,"softWrapped":true,"editorWidthInChars":null,"scrollTop":860,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/services/super_http.rb","invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"TokenizedBuffer"},"invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":1379,"softTabs":true,"displayBuffer":{"id":1380,"softWrapped":true,"editorWidthInChars":null,"scrollTop":56,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/controllers/login_controller.rb","invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"TokenizedBuffer"},"invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":1371,"softTabs":true,"displayBuffer":{"id":1372,"softWrapped":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/config/puma.rb","invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"TokenizedBuffer"},"invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":1375,"softTabs":true,"displayBuffer":{"id":1376,"softWrapped":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/Gemfile","invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"TokenizedBuffer"},"invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":1355,"softTabs":true,"displayBuffer":{"id":1356,"softWrapped":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/views/login/continue.html.erb","invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"TokenizedBuffer"},"invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"}],"activeItemURI":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/controllers/application_controller.rb","focused":true,"flexScale":1,"deserializer":"Pane"},"activePaneId":3,"deserializer":"PaneContainer","version":1},"fullScreen":false,"packagesWithActiveGrammars":["language-ruby","language-hyperlink","language-todo"],"deserializer":"Workspace"},"packageStates":{"fuzzy-finder":{"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/controllers/home_controller.rb":1431702101845,"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/controllers/application_controller.rb":1431702112655,"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/services/super_http.rb":1431702085463,"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/controllers/login_controller.rb":1431702095011,"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/config/puma.rb":1431702084709,"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/Gemfile":1431701968252,"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app/views/login/continue.html.erb":1431701653739},"keybinding-resolver":{},"metrics":{"sessionLength":196424625},"tree-view":{"directoryExpansionStates":{"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails":{"isExpanded":true,"entries":{".git":{"isExpanded":false,"entries":{}},"app":{"isExpanded":false,"entries":{}},"bin":{"isExpanded":false,"entries":{}},"config":{"isExpanded":true,"entries":{"environments":{"isExpanded":false,"entries":{}},"initializers":{"isExpanded":false,"entries":{}},"locales":{"isExpanded":false,"entries":{}}}},"db":{"isExpanded":false,"entries":{}},"lib":{"isExpanded":false,"entries":{}},"log":{"isExpanded":false,"entries":{}},"public":{"isExpanded":false,"entries":{}},"tmp":{"isExpanded":false,"entries":{}},"vendor":{"isExpanded":false,"entries":{}}}}},"selectedPath":"/Users/ustrajunior/code/nextbit/superwifi_frontend_rails/app","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200},"find-and-replace":{"viewState":"","modelState":{"useRegex":false,"inCurrentSelection":false,"caseSensitive":false,"wholeWord":false},"projectViewState":"","resultsModelState":{"useRegex":false,"caseSensitive":false},"findHistory":["_url","session","cookies","session","puts","JSON.load","active","active_record","action_mailer","ngrok.com","access_redirect","ngrok","api_url","puma","@format"],"replaceHistory":["session","ngrok.io"],"pathsHistory":["session","ngrok.io"]}}}