{"mode":"editor","version":1,"windowDimensions":{"x":4,"y":23,"width":1362,"height":745,"maximized":true},"grammars":{"deserializer":"GrammarRegistry","grammarOverridesByPath":{}},"project":{"paths":["/Users/ustrajunior/code/nextbit/ancar"],"buffers":[{"text":"var app = {\n\thome: {\n\t\tindex: function() {\n\t\t\tloadFBOn('home');\n\t\t\t$(document).on('click', '#fb-login-button', function(){\n\t\t\t\tFB.login(function(response) {\n\t\t\t\t\tif (response.status === 'connected') {\n\t\t\t\t\t\twindow.location.href = '/social_login/facebook/' + response.authResponse.userID\n\t\t\t\t\t} else if (response.status === 'not_authorized') {\n\t\t\t\t\t\tconsole.log(\"not_authorized\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"not logged\");\n\t\t\t\t\t}\n\t\t\t\t}, {scope: 'public_profile,email,user_birthday,publish_actions'});\n\t\t\t});\n\t\t}\n\t}\n};\n\n\nfunction loadFBOn(page) {\n\twindow.fbAsyncInit = function() {\n\t\tFB.init({\n\t\t\tappId      : $(\"body\").data('appid'),\n\t\t\tcookie     : true,\n\t\t\txfbml      : true,\n\t\t\tversion    : 'v2.2'\n\t\t});\n\n\t};\n\n\t(function(d, s, id) {\n\t\tvar js, fjs = d.getElementsByTagName(s)[0];\n\t\tif (d.getElementById(id)) return;\n\t\tjs = d.createElement(s); js.id = id;\n\t\tjs.src = \"//connect.facebook.net/en_US/sdk.js\";\n\t\tfjs.parentNode.insertBefore(js, fjs);\n\t}(document, 'script', 'facebook-jssdk'));\n}\n","markers":{"markers":{"1":{"id":1,"range":[[13,36],[13,36]],"tailed":false,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":262,"goalBufferRange":null},"deserializer":"Marker"},"48":{"id":48,"range":[[6,0],[6,43]],"tailed":true,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[{"patches":[{"oldRange":[[7,0],[7,27]],"newRange":[[7,0],[7,0]],"oldText":"\t\t\t\t\t\tconsole.log(response)","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[7,0],[7,0]]},"newParams":{"range":[[6,43],[7,0]]},"deserializer":"MarkerPatch"},{"oldRange":[[6,43],[7,0]],"newRange":[[6,43],[6,43]],"oldText":"\n","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"}],"redoStack":[{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"oldRange":[[8,6],[8,6]],"newRange":[[8,6],[10,6]],"oldText":"","newText":" else if (response.status === 'not_authorized') {\n\t\t\t\t\t} else {\n\t\t\t\t\t}","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{},"deserializer":"MarkerPatch"},{"oldRange":[[9,13],[9,13]],"newRange":[[9,13],[10,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"range":[[9,13],[10,0]]},"newParams":{"range":[[10,0],[10,0]]},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"oldRange":[[10,0],[10,0]],"newRange":[[10,0],[10,32]],"oldText":"","newText":"\t\t\t\t\t\tconsole.log(\"not logged\");","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{},"deserializer":"MarkerPatch"},{"oldRange":[[8,55],[8,55]],"newRange":[[8,55],[9,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"range":[[8,55],[9,0]]},"newParams":{"range":[[9,0],[9,0]]},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"oldRange":[[9,0],[9,0]],"newRange":[[9,0],[9,36]],"oldText":"","newText":"\t\t\t\t\t\tconsole.log(\"not_authorized\");","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"}],"deserializer":"History"},"encoding":"utf8","filePath":"/Users/ustrajunior/code/nextbit/ancar/app/assets/javascripts/fb_login.js","modifiedWhenLastPersisted":true,"digestWhenLastPersisted":"8024e4b97d2700f8fdd2307cd29399d99d25df07","deserializer":"TextBuffer"},{"text":"<% if user_signed_in? %>\n  <%= render 'users/continue_page' %>\n<% else %>\n  <% if params[:password_reset_instructions_sent].present? %>\n    <%= render 'users/go_to_internet_lone' %>\n  <% else %>\n    <section class=\"form-section\">\n      <div class=\"w-container\">\n        <div class=\"w-form login-form\">\n          <div class=\"w-row form-buttons\">\n            <div class=\"w-col w-col-6 w-col-small-6 w-clearfix\">\n              <%= link_to I18n.t('helpers.actions.already_user'), new_user_session_path, class: 'w-button orange-button right' %>\n            </div>\n            <div class=\"w-col w-col-6 w-col-small-6 w-clearfix\">\n              <%= link_to I18n.t('helpers.actions.new_user'), new_user_registration_path, class: 'w-button alredy-registered green-button left' %>\n            </div>\n            <div class=\"w-col w-col-12 w-clearfix centered\">\n              <%= link_to I18n.t('login.forgot_password'), new_password_path, class: 'forgot-pass' %>\n            </div>\n\t\t\t\t\t\t<% unless current_client.fb_app_id.blank? %>\n\t\t\t\t\t\t\t<div class=\"w-col w-col-12 w-col-small-12 w-clearfix centered\">\n\t\t\t\t\t\t\t\t<%= link_to I18n.t('helpers.actions.facebook_login'), \"#\", id: \"fb-login-button\", class: 'w-button alredy-registered lone-button blue-button ' %>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<% end %>\n          </div>\n        </div>\n      </div>\n    </section>\n  <% end %>\n  <%= render 'shared/questions' %>\n<% end %>\n","markers":{"markers":{"1":{"id":1,"range":[[21,74],[21,85]],"tailed":true,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":270,"goalBufferRange":null},"deserializer":"Marker"},"20":{"id":20,"range":[[19,0],[23,15]],"tailed":true,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[19,9],[19,9]]},"newParams":{"range":[[19,8],[19,9]]},"deserializer":"MarkerPatch"},{"oldRange":[[19,8],[19,9]],"newRange":[[19,8],[19,8]],"oldText":"#","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[21,11],[21,11]]},"newParams":{"range":[[21,10],[21,11]]},"deserializer":"MarkerPatch"},{"oldRange":[[21,10],[21,11]],"newRange":[[21,10],[21,10]],"oldText":"#","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[23,9],[23,9]]},"newParams":{"range":[[23,8],[23,9]]},"deserializer":"MarkerPatch"},{"oldRange":[[23,8],[23,9]],"newRange":[[23,8],[23,8]],"oldText":"#","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[22,7],[22,12]],"newRange":[[22,7],[22,7]],"oldText":"<!-- ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[22,13],[22,17]],"newRange":[[22,13],[22,13]],"oldText":" -->","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[20,7],[20,12]],"newRange":[[20,7],[20,7]],"oldText":"<!-- ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[20,70],[20,74]],"newRange":[[20,70],[20,70]],"oldText":" -->","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"}],"redoStack":[],"deserializer":"History"},"encoding":"utf8","filePath":"/Users/ustrajunior/code/nextbit/ancar/app/views/home/index.html.erb","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"db197df7ff3a25cfdb279bb086cea8fa9e1c4d81","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"id":3,"items":[{"id":262,"softTabs":false,"displayBuffer":{"id":263,"softWrapped":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/ustrajunior/code/nextbit/ancar/app/assets/javascripts/fb_login.js","invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"TokenizedBuffer"},"invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":270,"softTabs":true,"displayBuffer":{"id":271,"softWrapped":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/ustrajunior/code/nextbit/ancar/app/views/home/index.html.erb","invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"TokenizedBuffer"},"invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"}],"activeItemURI":"/Users/ustrajunior/code/nextbit/ancar/app/assets/javascripts/fb_login.js","focused":false,"deserializer":"Pane"},"activePaneId":3,"deserializer":"PaneContainer","version":1},"fullScreen":false,"packagesWithActiveGrammars":["language-javascript","language-ruby","language-html","language-hyperlink","language-todo"],"deserializer":"Workspace"},"packageStates":{"fuzzy-finder":{"/Users/ustrajunior/code/nextbit/ancar/app/assets/javascripts/fb_login.js":1426002904684,"/Users/ustrajunior/code/nextbit/ancar/app/views/home/index.html.erb":1426002894099},"keybinding-resolver":{},"metrics":{"sessionLength":17580882},"tree-view":{"directoryExpansionStates":{"/Users/ustrajunior/code/nextbit/ancar":{"isExpanded":true,"entries":{".git":{"isExpanded":false,"entries":{}},"app":{"isExpanded":true,"entries":{"assets":{"isExpanded":true,"entries":{"images":{"isExpanded":false,"entries":{}},"javascripts":{"isExpanded":true,"entries":{}},"stylesheets":{"isExpanded":false,"entries":{}}}},"controllers":{"isExpanded":false,"entries":{}},"decorators":{"isExpanded":false,"entries":{}},"helpers":{"isExpanded":false,"entries":{}},"mailers":{"isExpanded":false,"entries":{}},"models":{"isExpanded":false,"entries":{}},"services":{"isExpanded":false,"entries":{}},"uploaders":{"isExpanded":false,"entries":{}},"validators":{"isExpanded":false,"entries":{}},"views":{"isExpanded":false,"entries":{}},"workers":{"isExpanded":false,"entries":{}}}},"bin":{"isExpanded":false,"entries":{}},"config":{"isExpanded":false,"entries":{}},"coverage":{"isExpanded":false,"entries":{}},"db":{"isExpanded":false,"entries":{}},"lib":{"isExpanded":false,"entries":{}},"log":{"isExpanded":false,"entries":{}},"public":{"isExpanded":false,"entries":{}},"spec":{"isExpanded":false,"entries":{}},"tmp":{"isExpanded":false,"entries":{}},"vendor":{"isExpanded":false,"entries":{}}}}},"selectedPath":"/Users/ustrajunior/code/nextbit/ancar/app/assets/javascripts/fb_login.js","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200},"find-and-replace":{"viewState":"","modelState":{"useRegex":false,"inCurrentSelection":false,"caseSensitive":false,"wholeWord":false},"projectViewState":"","resultsModelState":{"useRegex":false,"caseSensitive":false},"findHistory":["message","go_to_internet_path","go_to_internet_url","password","may_access_now","has_to_complete_registration","complete","go_to_internet_url","/login","CurrentClient.current_id","CurrentClient.id","Client.current_id"],"replaceHistory":["go_to_internet_path"],"pathsHistory":["go_to_internet_path"]}}}