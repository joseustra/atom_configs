{"mode":"editor","version":1,"windowDimensions":{"x":4,"y":23,"width":1362,"height":745,"maximized":true},"grammars":{"deserializer":"GrammarRegistry","grammarOverridesByPath":{}},"project":{"paths":["/Users/ustrajunior/code/go/src/tests/relayR/examples/shape-move"],"buffers":[{"text":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n\t<meta charset=\"UTF-8\">\n\t<title>Shape move</title>\n\t<style type=\"text/css\">\n\t\t#shape {\n\t\t\twidth: 50px;\n\t\t\theight: 50px;\n\t\t\tbackground: #09c;\n\t\t\tborder-radius: 50%;\n\t\t}\n\t</style>\n\t<script src=\"/~relay\" type=\"text/javascript\"></script>\n\t<script src=\"//code.jquery.com/jquery-1.11.2.min.js\"></script>\n\t<script src=\"//code.jquery.com/ui/1.11.3/jquery-ui.min.js\"></script>\n\t<script type=\"text/javascript\">\n\t\t$(function () {\n\t\t    RelayRConnection.ready(function() {\n\t\t        var shapeRelay = RelayR.ShapeRelay,\n\t\t        $shape = $(\"#shape\"),\n\t\t        shapeModel = {\n\t\t\t    left: 0,\n\t\t\t    top: 0\n\t\t        };\n\n\t\t        shapeRelay.client.shapeUpdated = function (model) {\n\t\t\t    shapeModel = model;\n\t\t\t\t\t\t\t\n\t\t            $shape.css({ left: model.left, top: model.top });\n\t\t        };\n\n\t\t\t$shape.draggable({\n\t\t\t    drag: function () {\n\t\t\t\tshapeModel = $shape.offset();\n\t\t\t\tshapeRelay.server.updateShape(shapeModel);\n\t\t\t    }\n\t\t\t});\n\n\t\t    });\n\t\t});\n\t</script>\n</head>\n<body>\n\t<div id=\"text\"></div>\n<div id=\"shape\"></div>\n</body>\n</html>\n","markers":{"markers":{"1":{"id":1,"range":[[21,15],[21,15]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":4,"goalBufferRange":null},"deserializer":"Marker"},"14":{"id":14,"range":[[44,9],[44,14]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"61":{"id":61,"range":[[29,63],[29,63]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"92":{"id":92,"range":[[29,70],[29,71]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"97":{"id":97,"range":[[29,70],[29,70]],"tailed":true,"reversed":false,"valid":true,"invalidate":"overlap","persistent":true,"properties":{},"deserializer":"Marker"},"167":{"id":167,"range":[[28,0],[28,7]],"tailed":true,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{},"deserializer":"Marker"},"168":{"id":168,"range":[[31,0],[31,0]],"tailed":true,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{},"deserializer":"Marker"},"169":{"id":169,"range":[[40,0],[40,5]],"tailed":true,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{},"deserializer":"Marker"},"170":{"id":170,"range":[[44,0],[44,22]],"tailed":true,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{},"deserializer":"Marker"},"171":{"id":171,"range":[[47,0],[47,7]],"tailed":true,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[{"patches":[{"oldRange":[[42,6],[42,6]],"newRange":[[42,6],[43,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[43,0],[43,0]],"newRange":[[43,0],[43,1]],"oldText":"","newText":"\t","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[43,1],[43,1]],"newRange":[[43,1],[43,2]],"oldText":"","newText":"<","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[43,2],[43,2]],"newRange":[[43,2],[43,3]],"oldText":"","newText":"d","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[43,3],[43,3]],"newRange":[[43,3],[43,4]],"oldText":"","newText":"i","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[43,4],[43,4]],"newRange":[[43,4],[43,5]],"oldText":"","newText":"v","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[43,5],[43,5]],"newRange":[[43,5],[43,6]],"oldText":"","newText":" ","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[43,6],[43,6]],"newRange":[[43,6],[43,7]],"oldText":"","newText":"i","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[43,7],[43,7]],"newRange":[[43,7],[43,8]],"oldText":"","newText":"d","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[43,8],[43,8]],"newRange":[[43,8],[43,9]],"oldText":"","newText":"=","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[43,9],[43,9]],"newRange":[[43,9],[43,10]],"oldText":"","newText":"?","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"reversed":false,"range":[[43,10],[43,10]]},"newParams":{"reversed":true,"range":[[43,9],[43,10]]},"deserializer":"MarkerPatch"},{"oldRange":[[43,9],[43,10]],"newRange":[[43,9],[43,9]],"oldText":"?","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"oldRange":[[43,9],[43,9]],"newRange":[[43,9],[43,11]],"oldText":"","newText":"\"\"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"range":[[43,11],[43,11]]},"newParams":{"range":[[43,10],[43,10]]},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[43,10],[43,10]],"newRange":[[43,10],[43,11]],"oldText":"","newText":"t","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[43,11],[43,11]],"newRange":[[43,11],[43,12]],"oldText":"","newText":"e","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[43,12],[43,12]],"newRange":[[43,12],[43,13]],"oldText":"","newText":"s","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[43,13],[43,13]],"newRange":[[43,13],[43,14]],"oldText":"","newText":"t","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[43,14],[43,14]]},"newParams":{"range":[[43,13],[43,14]]},"deserializer":"MarkerPatch"},{"oldRange":[[43,13],[43,14]],"newRange":[[43,13],[43,13]],"oldText":"t","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[43,13],[43,13]]},"newParams":{"range":[[43,12],[43,13]]},"deserializer":"MarkerPatch"},{"oldRange":[[43,12],[43,13]],"newRange":[[43,12],[43,12]],"oldText":"s","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"},{"oldRange":[[43,12],[43,12]],"newRange":[[43,12],[43,13]],"oldText":"","newText":"x","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[43,13],[43,13]],"newRange":[[43,13],[43,14]],"oldText":"","newText":"t","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[43,15],[43,15]],"newRange":[[43,15],[43,16]],"oldText":"","newText":">","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[43,16],[43,16]],"newRange":[[43,16],[43,17]],"oldText":"","newText":"<","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[43,17],[43,17]],"newRange":[[43,17],[43,18]],"oldText":"","newText":"/","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[43,18],[43,18]],"newRange":[[43,18],[43,19]],"oldText":"","newText":"d","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[43,19],[43,19]],"newRange":[[43,19],[43,20]],"oldText":"","newText":"i","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[43,20],[43,20]],"newRange":[[43,20],[43,21]],"oldText":"","newText":"v","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[43,21],[43,21]],"newRange":[[43,21],[43,22]],"oldText":"","newText":">","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[39,5],[39,6]],"newRange":[[39,5],[39,5]],"oldText":"\t","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[30,0],[30,6]],"newRange":[[30,0],[30,0]],"oldText":"\t\t    ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[47,0],[48,0]],"newRange":[[47,0],[47,0]],"oldText":"\n","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[27,26],[27,26]],"newRange":[[27,26],[28,0]],"oldText":"","newText":"\n","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[28,0],[28,0]],"newRange":[[28,0],[28,5]],"oldText":"","newText":"\t\t\t\t\t","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[28,5],[28,5]],"newRange":[[28,5],[28,6]],"oldText":"","newText":"\t","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[28,6],[28,6]],"newRange":[[28,6],[28,7]],"oldText":"","newText":"\t","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"}],"redoStack":[],"deserializer":"History"},"encoding":"utf8","filePath":"/Users/ustrajunior/code/go/src/tests/relayR/examples/shape-move/index.html","modifiedWhenLastPersisted":true,"digestWhenLastPersisted":"8868601fb5234098e9c5e7f31ba277fb821a9356","deserializer":"TextBuffer"},{"text":"package main\n\nimport (\n\t\"net/http\"\n\n\t\"github.com/simon-whitehead/relayR\"\n)\n\ntype ShapeRelay struct {\n\trelayR.Relay\n}\n\nfunc (r ShapeRelay) UpdateShape(s map[string]interface{}) {\n\tr.Clients.Others(\"shapeUpdated\", s) // Only send to other clients\n}\n\nfunc main() {\n\texchange := relayR.NewExchange()\n\texchange.RegisterRelay(ShapeRelay{})\n\n\trelayR.Handle(\"/~relay\", exchange)\n\n\thttp.Handle(\"/\", http.FileServer(http.Dir(\".\")))\n\n\thttp.ListenAndServe(\":8080\", nil)\n}\n","markers":{"markers":{"1":{"id":1,"range":[[13,41],[13,41]],"tailed":false,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":8,"goalBufferRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"encoding":"utf8","filePath":"/Users/ustrajunior/code/go/src/tests/relayR/examples/shape-move/main.go","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"e27966f06c49355d5802e591e571de28f437f147","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"id":3,"items":[{"id":4,"softTabs":false,"displayBuffer":{"id":5,"softWrapped":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/ustrajunior/code/go/src/tests/relayR/examples/shape-move/index.html","invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"TokenizedBuffer"},"invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":8,"softTabs":false,"displayBuffer":{"id":9,"softWrapped":true,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/ustrajunior/code/go/src/tests/relayR/examples/shape-move/main.go","invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"TokenizedBuffer"},"invisibles":{"eol":"¬","space":"·","tab":"»","cr":"¤"},"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"}],"activeItemURI":"/Users/ustrajunior/code/go/src/tests/relayR/examples/shape-move/index.html","focused":true,"deserializer":"Pane"},"activePaneId":3,"deserializer":"PaneContainer","version":1},"fullScreen":false,"packagesWithActiveGrammars":["language-html","language-css","language-javascript","language-go","language-hyperlink","language-todo"],"deserializer":"Workspace"},"packageStates":{"fuzzy-finder":{"/Users/ustrajunior/code/go/src/tests/relayR/examples/shape-move/index.html":1426275055003,"/Users/ustrajunior/code/go/src/tests/relayR/examples/shape-move/main.go":1426275036473},"metrics":{"sessionLength":517695},"tree-view":{"directoryExpansionStates":{"/Users/ustrajunior/code/go/src/tests/relayR/examples/shape-move":{"isExpanded":true,"entries":{}}},"selectedPath":"/Users/ustrajunior/code/go/src/tests/relayR/examples/shape-move/index.html","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}}}